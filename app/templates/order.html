{% extends 'base.html' %}

{% block content %}
{% for item in items %}
  <div class="item" style="item">
    <div class="desc">{{ item.name }}</div>
    <form id="frm2" name="form2" action="">
    <input id="item2" type="number" name="counts" min="0" value="0" onchange="myFunction2()" oninput="myFunction2()">
    <input class="hidden" type="number" name="price" value="{{ item.price }}">
    <label for="price">{{ item.price }}</label>
    </form>
  </div>
{% endfor %}

<div class="clear">

</div>
<button id="btn1" name="subject" value="fav_CSS">ثبت سفارش</button>

<p id="demo" style="border:1px solid black; color:black; width:50%; margin:0 auto;"></p>

<script>
// function myFunction() {
//   var count = 0;
//   var elements = document.getElementById("frm1").elements;
//   for (var i = 0, element; element = elements[i++];) {
//       if (element.type === "number")
//           count += parseInt(element.value);
//   }
//     var x = document.getElementById("item1").value;
//     document.getElementById("demo").innerHTML = count;
// }
myFunction2();
function myFunction2() {
  var formsCollection;
  var r;
  var count=0;
  formsCollection=document.forms;

  for(r=0;r<formsCollection.length;r++)
  {
        var x = parseInt(formsCollection[r]["counts"].value) * parseInt(formsCollection[r]["price"].value);
        count += x;
  }
  document.getElementById("demo").innerHTML = "جمع پرداختی:" + count ;
}
</script>
{% endblock %}
